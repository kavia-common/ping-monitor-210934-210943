{"is_source_file": true, "format": "JavaScript", "description": "This file implements WebSocket connection logic for a ping monitoring service in a React-based frontend. It includes functions to derive the WebSocket URL based on environment variables, build the WebSocket URL for a given session, and a public function to connect to the ping stream with event handlers for messaging, connection, and errors.", "external_files": ["react"], "external_methods": ["WebSocket"], "published": ["connectPingStream"], "classes": [], "methods": [{"name": "deriveWsBase()", "description": "Derives the WebSocket base URL using environment variables or defaults to localhost.", "scope": "", "scopeKind": ""}, {"name": "buildWsUrl(sessionId)", "description": "Constructs the full WebSocket URL for a given session ID.", "scope": "", "scopeKind": ""}, {"name": "connectPingStream({ sessionId, onMessage, onOpen, onClose, onError })", "description": "Connects to the ping WebSocket stream with provided event handlers and returns the socket and disconnect function.", "scope": "", "scopeKind": ""}], "calls": ["new URL(apiBase)", "socket.addEventListener", "socket.close"], "search-terms": ["WebSocket connection", "ping stream", "deriveWsBase", "buildWsUrl", "connectPingStream", "React env variables"], "state": 2, "file_id": 16, "knowledge_revision": 36, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildWsUrl", "path": "/home/kavia/workspace/code-generation/ping-monitor-210934-210943/ping_gui_frontend/src/services/ws.js", "pattern": "/^function buildWsUrl(sessionId) {$/", "language": "JavaScript", "kind": "function", "signature": "(sessionId)"}, {"_type": "tag", "name": "connectPingStream", "path": "/home/kavia/workspace/code-generation/ping-monitor-210934-210943/ping_gui_frontend/src/services/ws.js", "pattern": "/^export function connectPingStream({ sessionId, onMessage, onOpen, onClose, onError }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ sessionId, onMessage, onOpen, onClose, onError })"}, {"_type": "tag", "name": "deriveWsBase", "path": "/home/kavia/workspace/code-generation/ping-monitor-210934-210943/ping_gui_frontend/src/services/ws.js", "pattern": "/^function deriveWsBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "4cf58ac73876829f10b55f0e3fe0bab3", "format-version": 4, "code-base-name": "ping_gui_frontend", "filename": "ping_gui_frontend/src/services/ws.js", "revision_history": [{"36": ""}]}